% Copyright (c) 2023-2024 Isaac Ren. Licensed under the MIT license (see LICENSE.txt).

\NeedsTeXFormat{LaTeX2e}
\mode<presentation>

\RequirePackage{xcolor}

% COLORS
% Primary colors
\definecolorset{HTML}{}{}{%
    white,FFFFFF;%
    sand,EBE5E0;%
    KTH blue,004791;%
    sky blue,6298D2;%
    navy,000061;%
    light blue,DEF0FF;%
    digital blue,0029ED% This color cannot be reproduced in print. Please use KTH blue for printing.
}

% Functional colors
\definecolorset{HTML}{}{}{%
    dark green,0D4A21;%
    green,4DA060;%
    light green,C7EBBA;%
    %
    dark turquoise,1C434C;%
    turquoise,339C9C;%
    light turquoise,B2E0E0;%
    %
    dark brick,78001A;%
    brick,E86A58;%
    light brick,FFCCC4;%
    %
    dark yellow,A65900;%
    yellow,FFBE00;%
    light yellow,FFF0B0;%
    %
    dark gray,323232;%
    gray,A5A5A5;%
    light gray,E6E6E6;%
    %
    % Broken black and broken white are only used as text colors on the web to improve readability and accessibility on screen.
    broken black,212121;%
    broken white,FCFCFC%
}


% SETTING BEAMER COLORS

\setbeamercolor{normal text}{fg=black,bg={}}
% \setbeamercolor{alerted text}{fg=red}
% \setbeamercolor{example text}{fg=green!50!black}

\setbeamercolor{structure}{fg=navy}

\setbeamercolor{background canvas}{bg=broken white}
% \setbeamercolor{background}{parent=background canvas}

\setbeamercolor{palette primary}{fg=navy}
\setbeamercolor{palette secondary}{fg=KTH blue}
\setbeamercolor{palette tertiary}{fg=sky blue}
\setbeamercolor{palette quaternary}{fg=black}

% \setbeamercolor{palette sidebar primary}{use=normal text,fg=normal text.fg}
% \setbeamercolor{palette sidebar secondary}{use=structure,fg=structure.fg}
% \setbeamercolor{palette sidebar tertiary}{use=normal text,fg=normal text.fg}
% \setbeamercolor{palette sidebar quaternary}{use=structure,fg=structure.fg}

\setbeamercolor{math text}{fg=KTH blue}
\setbeamercolor{math text inlined}{parent=math text}
\setbeamercolor{math text displayed}{parent=math text}

\setbeamercolor{normal text in math text}{parent=math text}

% \setbeamercolor{local structure}{parent=structure}

\setbeamercolor{titlelike}{parent=palette primary}

\setbeamercolor{title}{bg=light blue, fg=navy}
% \setbeamercolor{title in head/foot}{parent=palette quaternary}
% \setbeamercolor{title in sidebar}{parent=palette sidebar quaternary}

\setbeamercolor{subtitle}{fg=KTH blue}

\setbeamercolor{author}{parent=subtitle}
% \setbeamercolor{author in head/foot}{parent=palette primary}
% \setbeamercolor{author in sidebar}{use=palette sidebar tertiary,fg=palette sidebar tertiary.fg}

\setbeamercolor{institute}{parent=subtitle}
% \setbeamercolor{institute in head/foot}{parent=palette tertiary}
% \setbeamercolor{institute in sidebar}{use=palette sidebar tertiary,fg=palette sidebar tertiary.fg}

\setbeamercolor{date}{parent=subtitle}
% \setbeamercolor{date in head/foot}{parent=palette secondary}
% \setbeamercolor{date in sidebar}{use=palette sidebar tertiary,fg=palette sidebar tertiary.fg}

% \setbeamercolor{titlegraphic}{}

% \setbeamercolor{part name}{}
% \setbeamercolor{part title}{parent=titlelike}

% \setbeamercolor{section name}{}
\setbeamercolor{section title}{bg=sand, fg=navy}

\setbeamercolor{section in toc}{parent=frametitle}
% \setbeamercolor{section in toc shaded}{parent=section in toc}
\setbeamercolor{section in head/foot}{parent=headline}
% \setbeamercolor{section in sidebar}{parent=palette sidebar secondary}
% \setbeamercolor{section in sidebar shaded}{use=section in sidebar,fg=section in sidebar.fg!40!bg}
% \setbeamercolor{section number projected}{parent=item projected}

% \setbeamercolor{subsection name}{}
\setbeamercolor{subsection title}{parent=section title}

\setbeamercolor{subsection in toc}{parent=section in toc}
% \setbeamercolor{subsection in toc shaded}{parent=subsection in toc}
% \setbeamercolor{subsection in head/foot}{parent=palette secondary}
% \setbeamercolor{subsection in sidebar}{parent=palette sidebar primary}
% \setbeamercolor{subsection in sidebar shaded}{use=subsection in sidebar,fg=subsection in sidebar.fg!40!bg}
% \setbeamercolor{subsection number projected}{parent={subitem projected}}

% \setbeamercolor{subsubsection in toc}{parent=subsection in toc}
% \setbeamercolor{subsubsection in toc shaded}{parent=subsubsection in toc}
% \setbeamercolor{subsubsection in head/foot}{parent=subsection in head/foot}
% \setbeamercolor{subsubsection in sidebar}{parent=subsection in sidebar}
% \setbeamercolor{subsubsection in sidebar shaded}{parent=subsection in sidebar shaded}
% \setbeamercolor{subsubsection number projected}{parent=subsubitem projected}

\setbeamercolor{headline}{fg=sky blue}
\setbeamercolor{footline}{fg=sky blue}

% \setbeamercolor{sidebar}{}
% \setbeamercolor{sidebar left}{parent=sidebar}
% \setbeamercolor{sidebar right}{parent=sidebar}

% \setbeamercolor{logo}{parent=palette secondary}

\setbeamercolor{frametitle}{fg=navy}
% \setbeamercolor{framesubtitle}{parent=frametitle}

% \setbeamercolor{frametitle right}{parent=frametitle}

\setbeamercolor{caption}{parent=normal text}
\setbeamercolor{caption name}{parent=structure}

% \setbeamercolor{button}{use=local structure,bg=local structure.fg!50!bg,fg=white}
% \setbeamercolor{button border}{use=button,fg=button.bg}
% \setbeamercolor{navigation symbols}{use=structure,fg=structure.fg!40!bg}
% \setbeamercolor{navigation symbols dimmed}{use=structure,fg=structure.fg!20!bg}
% \setbeamercolor{mini frame}{parent=section in head/foot}

\setbeamercolor{block body}{parent=normal text}
\setbeamercolor{block body alerted}{parent=normal text}
\setbeamercolor{block body example}{parent=normal text}
\setbeamercolor{block title}{bg=light blue, fg=navy}
\setbeamercolor{block title alerted}{bg=light brick, fg=dark brick}
\setbeamercolor{block title example}{bg=light green, fg=dark green}

\setbeamercolor{item}{fg=navy}
\setbeamercolor{subitem}{parent=item}
\setbeamercolor{subsubitem}{parent=subitem}

% \setbeamercolor{item projected}{parent=item,use=item,fg=white,bg=item.fg}
% \setbeamercolor{subitem projected}{parent=item projected}
% \setbeamercolor{subsubitem projected}{parent=subitem projected}

\setbeamercolor{enumerate item}{parent=item}
\setbeamercolor{enumerate subitem}{parent=subitem}
\setbeamercolor{enumerate subsubitem}{parent=subsubitem}

\setbeamercolor{itemize item}{parent=item}
\setbeamercolor{itemize subitem}{parent=subitem}
\setbeamercolor{itemize subsubitem}{parent=subsubitem}

\setbeamercolor{itemize/enumerate body}{parent=normal text}
\setbeamercolor{itemize/enumerate subbody}{parent=normal text}
\setbeamercolor{itemize/enumerate subsubbody}{parent=normal text}

% \setbeamercolor{description item}{parent=item}

% \setbeamercolor{description body}{}

\setbeamercolor{bibliography item}{parent=item}

\setbeamercolor{bibliography entry author}{use=normal text, fg=normal text.fg}
\setbeamercolor{bibliography entry title}{parent=emph}
\setbeamercolor{bibliography entry location}{use=normal text, fg=normal text.fg}
\setbeamercolor{bibliography entry note}{use=normal text, fg=normal text.fg}

% \setbeamercolor{separation line}{}

% \setbeamercolor{upper separation line head}{parent=separation line}
% \setbeamercolor{middle separation line head}{parent=separation line}
% \setbeamercolor{lower separation line head}{parent=separation line}

% \setbeamercolor{upper separation line foot}{parent=separation line}
% \setbeamercolor{middle separation line foot}{parent=separation line}
% \setbeamercolor{lower separation line foot}{parent=separation line}

% \setbeamercolor{abstract}{}
% \setbeamercolor{abstract title}{parent=structure}

% \setbeamercolor{verse}{}

% \setbeamercolor{quotation}{}
% \setbeamercolor{quote}{parent=quotation}

\setbeamercolor{page number in head/foot}{parent=footline}

\setbeamercolor{qed symbol}{parent=math text}

% \setbeamercolor{note page}{bg=white!90!black, fg=black}
% \setbeamercolor{note title}{bg=white!80!black, fg=black}
% \setbeamercolor{note date}{parent=note title}

%% New beamer colors
\setbeamercolor{end title}{bg=KTH blue, fg=white}

\mode<all>